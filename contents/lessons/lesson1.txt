using System;
using System.Threading.Tasks;
using Microsoft.CodeAnalysis.CSharp.Scripting;
using Microsoft.CodeAnalysis.Scripting;

class Program
{
    static async Task Main()
    {
        var code = @"var msg = ""Hello, World!""; msg";

        var options = ScriptOptions.Default
            .WithImports("System")
            .WithReferences(typeof(string).Assembly);

        try
        {
            var result = await CSharpScript.EvaluateAsync(code, options);
            Console.WriteLine("✅ Result: " + result);
        }
        catch (Exception ex)
        {
            Console.WriteLine("❌ Error: " + ex.Message);
        }
    }
}
